<!DOCTYPE html>
<html>

<head>
    <title>Opening Monologue</title>
    <link rel="stylesheet" href="SpaceStyleSheet.css">
</head>
<style>
    .container {
        margin: 25px;
        /* Center text-block horizontally*/
        display: flex;
        justify-content: center;
    }

    img {
        display: block;
        margin-left: auto;
        margin-right: auto;
        width: 40%;
    }


    .text-block {
        position: fixed;
        margin: auto;
        top: 30%;
        background-color: black;
        color: white;
        width: 85%;
        text-align: center;
    }
</style>

<body>
    <div class="container">
        <img src="images/Room1.png" alt="Room1" style="width:90%;">
        <div class="text-block">
            <h1>Time Remaining: <span id="timerText">?</span></h1>
            <p id="greeting">Computer: Hello there <span id="name"></span> we have a problem, the ship seems to have malfunctioned 
                and as such our systems have begun rapidly failing and…”</p>
            <p>“WARNING LIGHTS FAILING IN 3, 2, 1. Switching to back-up generator”</p>
            <!-- Room Becomes Mildly Darker But Not Pitch Black -->
            <p>“Well as I was saying our systems are failing, including all vital systems and a gas leak has broken
                out in the control room which is also on fire.
                I suggest you hurry before the fire ignites the gas and explodes the ship.
                You also should know that you only have 5 minutes before the gas leaks into the filteration system.
                So get going!
                And good luck!” </p>
            <button onclick="Start();">Start</button>

        </div>
    </div>

    <script>
        // Name from home page
        var playerName = sessionStorage.getItem('playerName');

        // Display the user's name
        document.getElementById('name').innerHTML = playerName;

        // Timer running
        var timeRem = sessionStorage.getItem('timeRem');

        // Display the remaining time in the timer element
        document.getElementById('timerText').innerHTML = timeRem;

        // Start the countdown timer
        var timer = setInterval(countdown, 1000);

        function countdown() {
            if (timeRem > 0) {
                timeRem--;
                document.getElementById('timerText').innerHTML = timeRem;
            } else {
                clearInterval(timer);
                document.getElementById('timerText').innerHTML = 'END';
                timeRem = 10;
                // Redirect to statistics page
                window.location.href = 'stats.html';
            }
        }

        function Start() {
            window.location.replace("1CommonRoom.html")
        }

    </script>
</body>

</html>