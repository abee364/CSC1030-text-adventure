<!DOCTYPE html>
<html>

    <head>
        <title>Statistics</title>
        <link rel="stylesheet" href="SpaceStyleSheet.css">
    </head>
    
    <body>
        <div id="statsWrapper">
            <h1>Statistics</h1>
            <table>
              <tr>
                <th>Mission Status</th>
                <td><span id="status">STATUS PENDING</span></td>
              </tr>
              <tr>
                <th>Time Remained</th>
                <td><span id="timerText">?</span></td>
              </tr>
            </table>
            <button onclick="Restart();" class="button">Play again</button>
        </div>

        <script type="text/javascript">
          const missionStatus = sessionStorage.getItem("missionStatus");
          // Update the HTML element with an ID of "status" to display the correct status
          const statusElement = document.getElementById("status");
          if (missionStatus === "SUCCESS") {
            statusElement.innerHTML = "SUCCESS";
          } else {
            statusElement.innerHTML = "FAILED";
          }

          // Load the remaining time from the session storage and display it in the "Time Remained" table cell
          const timeRemElement = document.getElementById("timerText");
          const timeRem = sessionStorage.getItem("timeRem");
          if (timeRem === null) {
            timeRemElement.innerHTML = "?";
          } else {
            timeRemElement.innerHTML = timeRem;
          }

          function Restart() {
            sessionStorage.removeItem("timeRem");
            window.location.replace("HomePage.html");
          }
          
          window.onload = function() {
            var fontSize = sessionStorage.getItem("fontSize");
            if (fontSize) {
                document.body.style.fontSize = fontSize;
            }
        }
        </script>
    </body>

</html>